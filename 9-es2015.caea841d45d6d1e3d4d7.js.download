(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1eSp":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("1G5W"),a=n("EBwW");const r={header:"Uh Oh, Something Went Wrong",description:"Looks like something went wrong on our end. Please try again.",icon:"attention-red-icon.svg",extraSpaced:"extraSpaced",darkMode:"darkMode"};var s=n("2Vo4"),o=n("XNiG"),c=n("fXoL"),l=n("l7P3");let b=(()=>{class e{constructor(e){this.store=e,this._progressBarEnabled=new s.a(null),this.progressBarEnabled$=this._progressBarEnabled.asObservable(),this.ngUnsubscribe=new o.a}init(e,t){return e.pipe(Object(i.a)(this.ngUnsubscribe)).subscribe(e=>{switch(e){case"start":this._progressBarEnabled.next(!0);break;case"failed":this._progressBarEnabled.next(!1),this.store.dispatch(t),this.store.dispatch(a.pb({payload:r}));break;case"complete":this._progressBarEnabled.next(!1)}}),this.progressBarEnabled$}ngOnDestroy(){this.store.dispatch(a.t()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(l.b))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},YDP6:function(e,t,n){"use strict";n.r(t),n.d(t,"EmailConfirmationModule",function(){return I});var i=n("PCNd"),a=n("62zh"),r=n("KfYM"),s=n("EBwW"),o=n("zp1y"),c=n("fXoL"),l=n("tyNb"),b=n("l7P3"),d=n("Nnff");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-previously-opened-icon"]],decls:15,vars:0,consts:[["width","33px","height","29px","viewBox","0 0 33 29","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Invoice-Flow-(desktop)","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd","stroke-linecap","square"],["id","Email-used-previously-(Error)","transform","translate(-708.000000, -260.000000)"],["id","Group","transform","translate(550.000000, 214.000000)"],["id","Group-3","transform","translate(159.000000, 50.000000)"],["id","email-85","transform","translate(0.000000, 6.000000)","stroke","#4A4A4A","stroke-opacity","0.4","stroke-width","2"],["id","Shape","points","18 4 11 11 4 4"],["id","Rectangle-path","x","0","y","0","width","22","height","18"],["d","M6,12 L4,14","id","Shape"],["d","M16,12 L18,14","id","Shape"],["id","c-remove","transform","translate(15.000000, 0.000000)"],["id","Oval","stroke","#FFFFFF","stroke-width","7","fill","#FFFFFF","cx","6.5","cy","6.5","r","6.5"],["id","Oval","stroke","#DF5163","stroke-width","2","fill","#FFFFFF","cx","6.5","cy","6.5","r","6.5"],["d","M8.86363636,4.13636364 L4.13636364,8.86363636","id","Path","stroke","#DF5163","stroke-width","2"],["d","M8.86363636,8.86363636 L4.13636364,4.13636364","id","Path","stroke","#DF5163","stroke-width","2"]],template:function(e,t){1&e&&(c.Zb(),c.Pb(0,"svg",0),c.Pb(1,"g",1),c.Pb(2,"g",2),c.Pb(3,"g",3),c.Pb(4,"g",4),c.Pb(5,"g",5),c.Lb(6,"polyline",6),c.Lb(7,"rect",7),c.Lb(8,"path",8),c.Lb(9,"path",9),c.Ob(),c.Pb(10,"g",10),c.Lb(11,"circle",11),c.Lb(12,"circle",12),c.Lb(13,"path",13),c.Lb(14,"path",14),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob())},encapsulation:2}),e})();var h=n("sYmb"),u=n("ofXK");const m=function(e){return{interpolation1:e}};let f=(()=>{class e{constructor(e,t){this.router=e,this.store=t,this.routeAnimation=!0}ngOnInit(){this.buyerEmail$=this.store.select(({app:e})=>e.buyerEmail)}navigate(){this.store.dispatch(s.S({payload:"continuedToPayment"})),this.store.dispatch(s.W({payload:r.b.QRCODE}))}openEmail(e){this.store.select(({app:e})=>e.closeIconEnabled).pipe(Object(o.a)(this.store.select(({app:e})=>e.contactMerchantURI))).subscribe(e=>{const t=e[1];e[0]?window.parent.postMessage({mailto:t},"*"):window.location.href=t})}ngOnDestroy(){this.storeSubscription&&this.storeSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.c),c.Kb(b.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-previously-opened"]],hostVars:1,hostBindings:function(e,t){2&e&&c.zc("@routeFadeIn",t.routeAnimation)},decls:15,vars:11,consts:[["card-icon",""],["cardIcon",""],["card-title","",3,"translate"],["cardTitle",""],["card-text","",1,"text",3,"innerHTML"],["cardText",""],["card-action",""],["cardAction",""],[1,"confirm",3,"translate","click"],["card-return",""],["cardReturn",""],[3,"translate","click"]],template:function(e,t){1&e&&(c.Pb(0,"app-card"),c.Lb(1,"app-previously-opened-icon",0,1),c.Lb(3,"div",2,3),c.Lb(5,"div",4,5),c.bc(7,"translate"),c.bc(8,"async"),c.Pb(9,"div",6,7),c.Pb(11,"div",8),c.Wb("click",function(){return t.navigate()}),c.Ob(),c.Ob(),c.Pb(12,"div",9,10),c.Pb(14,"div",11),c.Wb("click",function(e){return t.openEmail(e)}),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(3),c.hc("translate","messages.seemsToBeAProblem"),c.zb(2),c.hc("innerHTML",c.dc(7,4,"messages.previouslyOpened",c.mc(9,m,c.cc(8,7,t.buyerEmail$))),c.uc),c.zb(6),c.hc("translate","messages.continueToPayment"),c.zb(3),c.hc("translate","messages.contactMerchant"))},directives:[d.a,p,h.b],pipes:[h.e,u.b],styles:["[_nghost-%COMP%]{display:block}.confirm[_ngcontent-%COMP%]{color:#4f6ef7;font-size:1rem;cursor:pointer;transition:transform .5s ease}.confirm[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}@media (max-width:420px){.text[_ngcontent-%COMP%]{font-size:.7rem}}"],data:{animation:[a.y]},changeDetection:0}),e})();var g=n("XNiG"),v=n("7xhT"),y=n("1G5W");let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-verify-email-icon"]],decls:12,vars:0,consts:[["width","36px","height","33px","viewBox","0 0 36 33","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Invoice-Flow-(desktop)","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Verify-correct-email-entered","transform","translate(-708.000000, -261.000000)"],["id","Group-3","transform","translate(709.000000, 264.000000)"],["id","email-85","transform","translate(0.000000, 11.000000)","stroke","#4A4A4A","stroke-linecap","square","stroke-opacity","0.4","stroke-width","2"],["id","Shape","points","18 4 11 11 4 4"],["id","Rectangle-path","x","0","y","0","width","22","height","18"],["d","M6,12 L4,14","id","Shape"],["d","M16,12 L18,14","id","Shape"],["id","zoom","transform","translate(22.000000, 10.000000) rotate(-90.000000) translate(-22.000000, -10.000000) translate(12.000000, 0.000000)","fill-rule","nonzero"],["d","M12.488891,16.0249913 C8.88187809,17.9832374 4.32283366,17.182376 1.61061111,13.9747611 C-1.33479817,10.4913674 -1.119297,5.33197688 2.10633994,2.10633994 C5.33197688,-1.119297 10.4913674,-1.33479817 13.9747611,1.61061111 C17.182376,4.32283366 17.9832374,8.88187809 16.0249913,12.488891 L20.985267,17.4491667 L17.4491667,20.985267 L12.488891,16.0249913 Z M4.03665748,8.28594437 C4.03971943,10.6325048 5.94143282,12.5339809 8.28665742,12.5366574 C10.6338676,12.5366574 12.5366574,10.6338676 12.5366574,8.28665742 C12.5366574,5.93944724 10.6338676,4.03665742 8.28665742,4.03665742 C5.93968493,4.03665742 4.03704281,5.93906187 4.03665748,8.28594435 Z","id","Shape","stroke","#FFFFFF","stroke-width","2.5","fill","#B7B7B7"],["d","M3,8 C3,5.23857625 5.23857625,3 8,3 C10.7614237,3 13,5.23857625 13,8 C13,10.7614237 10.7614237,13 8,13 C5.23988167,12.996851 3.00314903,10.7601183 3,8 Z","id","Path","fill","#FFFFFF"]],template:function(e,t){1&e&&(c.Zb(),c.Pb(0,"svg",0),c.Pb(1,"g",1),c.Pb(2,"g",2),c.Pb(3,"g",3),c.Pb(4,"g",4),c.Lb(5,"polyline",5),c.Lb(6,"rect",6),c.Lb(7,"path",7),c.Lb(8,"path",8),c.Ob(),c.Pb(9,"g",9),c.Lb(10,"path",10),c.Lb(11,"path",11),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob())},encapsulation:2}),e})(),w=(()=>{class e{constructor(e,t){this.router=e,this.store=t,this.ngUnsubscribe=new g.a,this.routeAnimation=!0}ngOnInit(){this.buyerEmail$=this.store.select(({app:e})=>e.buyerEmail),this.store.select(({app:e})=>e.invoiceId).pipe(Object(y.a)(this.ngUnsubscribe)).subscribe(e=>this.invoiceId=e)}navigate(e){"yes"===e?(Object(v.K)(this.invoiceId),this.store.dispatch(s.S({payload:"confirmedBuyerProvidedEmail"})),this.store.dispatch(s.W({payload:r.b.QRCODE}))):this.router.navigateByUrl("/emailConfirmation/previouslyOpened",{skipLocationChange:!0})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.c),c.Kb(b.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-verify-email"]],hostVars:1,hostBindings:function(e,t){2&e&&c.zc("@routeFadeIn",t.routeAnimation)},decls:17,vars:7,consts:[["card-icon",""],["cardIcon",""],["card-title","",3,"translate"],["cardTitle",""],["card-text","",3,"translate"],["cardText",""],["card-body",""],["cardBody",""],[1,"email"],[1,"options","d-flex","flex-row","align-items-center"],[1,"col","options__button","d-flex","align-items-center","justify-content-center",3,"click"],[3,"translate"]],template:function(e,t){1&e&&(c.Pb(0,"app-card"),c.Lb(1,"app-verify-email-icon",0,1),c.Lb(3,"div",2,3),c.Lb(5,"div",4,5),c.Pb(7,"div",6,7),c.Pb(9,"div",8),c.Cc(10),c.bc(11,"async"),c.Ob(),c.Pb(12,"div",9),c.Pb(13,"div",10),c.Wb("click",function(){return t.navigate("no")}),c.Lb(14,"span",11),c.Ob(),c.Pb(15,"div",10),c.Wb("click",function(){return t.navigate("yes")}),c.Lb(16,"span",11),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(3),c.hc("translate","messages.verifyEmailAddress"),c.zb(2),c.hc("translate","messages.isEmailCorrect"),c.zb(5),c.Dc(c.cc(11,5,t.buyerEmail$)),c.zb(4),c.hc("translate","messages.no"),c.zb(2),c.hc("translate","messages.yes"))},directives:[d.a,k,h.b],pipes:[u.b],styles:["[_nghost-%COMP%]{display:block}.email[_ngcontent-%COMP%]{opacity:.4;margin-bottom:1.5rem;font-size:1.125rem}"],data:{animation:[a.y]},changeDetection:0}),e})();var x=n("3Pt+"),O=n("1eSp");let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-email-icon"]],decls:10,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","36","height","33","viewBox","0 0 36 33"],["fill","none","fill-rule","evenodd","transform","translate(1 3)"],["stroke","#565D6E","stroke-linecap","square","stroke-width","2","transform","translate(0 11)"],["points","18 4 11 11 4 4"],["width","22","height","18"],["x1","6","x2","4","y1","12","y2","14"],["x1","16","x2","18","y1","12","y2","14"],["fill-rule","nonzero","transform","rotate(-90 16 4)"],["fill","#565D6E","stroke","#FFF","stroke-width","2.5","d","M12.488891,16.0249913 C8.88187809,17.9832374 4.32283366,17.182376 1.61061111,13.9747611 C-1.33479817,10.4913674 -1.119297,5.33197688 2.10633994,2.10633994 C5.33197688,-1.119297 10.4913674,-1.33479817 13.9747611,1.61061111 C17.182376,4.32283366 17.9832374,8.88187809 16.0249913,12.488891 L20.985267,17.4491667 L17.4491667,20.985267 L12.488891,16.0249913 Z M4.03665748,8.28594437 C4.03971943,10.6325048 5.94143282,12.5339809 8.28665742,12.5366574 C10.6338676,12.5366574 12.5366574,10.6338676 12.5366574,8.28665742 C12.5366574,5.93944724 10.6338676,4.03665742 8.28665742,4.03665742 C5.93968493,4.03665742 4.03704281,5.93906187 4.03665748,8.28594435 Z"],["fill","#FFF","d","M3,8 C3,5.23857625 5.23857625,3 8,3 C10.7614237,3 13,5.23857625 13,8 C13,10.7614237 10.7614237,13 8,13 C5.23988167,12.996851 3.00314903,10.7601183 3,8 Z"]],template:function(e,t){1&e&&(c.Zb(),c.Pb(0,"svg",0),c.Pb(1,"g",1),c.Pb(2,"g",2),c.Lb(3,"polyline",3),c.Lb(4,"rect",4),c.Lb(5,"line",5),c.Lb(6,"line",6),c.Ob(),c.Pb(7,"g",7),c.Lb(8,"path",8),c.Lb(9,"path",9),c.Ob(),c.Ob(),c.Ob())},encapsulation:2}),e})();var L=n("9odQ"),C=n("0dEI");const E=["emailInput"],F=["checkbox"];function z(e,t){1&e&&(c.Pb(0,"span",25),c.Lb(1,"span",26),c.Cc(2,". "),c.Ob()),2&e&&(c.hc("@fadeInOut",void 0),c.zb(1),c.hc("translate","messages.pleaseConfirmToContinue"))}const B=[{path:"enterEmail",component:(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.store=t,this.generalErrorService=n,this.routeAnimation=!0}ngOnInit(){this.emailForm=this.formBuilder.group({email:["",[x.k.required,x.k.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]]}),this.progressBarEnabled$=this.generalErrorService.init(this.store.select(({app:e})=>e.submitEmailCallStatus),s.Ob(null))}ngAfterViewInit(){setTimeout(()=>{this.emailInput.input.nativeElement.focus()},0)}submit(){this.checked?this.emailForm.valid?this.store.dispatch(s.kc({payload:this.emailForm.value.email})):(this.store.dispatch(s.S({payload:"rejectedBuyerProvidedEmail"})),this.emailForm.setErrors({invalid:!0})):this.checkbox.nativeElement.focus()}toggleCheckBox(){this.checkbox.nativeElement.click()}enableHelp(){this.help=!0}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(x.b),c.Kb(b.b),c.Kb(O.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-enter-email"]],viewQuery:function(e,t){if(1&e&&(c.Gc(E,!0),c.Gc(F,!0)),2&e){let e;c.qc(e=c.Xb())&&(t.emailInput=e.first),c.qc(e=c.Xb())&&(t.checkbox=e.first)}},hostVars:1,hostBindings:function(e,t){2&e&&c.zc("@routeFadeIn",t.routeAnimation)},features:[c.yb([O.a])],decls:30,vars:25,consts:[[3,"bounce","progressBarEnabled"],["card-icon",""],["cardIcon",""],["card-title","",3,"translate"],["cardTitle",""],["card-text","",3,"innerHTML"],["cardText",""],["card-body","",1,"card-body"],["cardBody",""],[3,"formGroup","controlName","label","id","output"],["emailInput",""],["error-message","",3,"translate"],[1,"privacy-policy__text",3,"click"],[1,"d-flex","flex-row","justify-content-start"],[1,"d-flex","flex-column"],[1,"checkbox-container","tooltip","disable-pointer"],["class","tool-tip-text tool-tip-text--override tool-tip-top",4,"ngIf"],[1,"pure-material-checkbox"],["type","checkbox",3,"keydown.enter","change"],["checkbox",""],["appTruncate","",1,"privacy-policy__confirmation","lighter",3,"limit","translate"],["href","https://bitpay.com/about/privacy",1,"privacy-policy__link",3,"translate"],[1,"solid-blue-button",3,"translate","click","keydown.enter","mouseleave"],["card-progress",""],["cardProgress",""],[1,"tool-tip-text","tool-tip-text--override","tool-tip-top"],[3,"translate"]],template:function(e,t){1&e&&(c.Pb(0,"app-card",0),c.bc(1,"async"),c.Lb(2,"app-email-icon",1,2),c.Lb(4,"div",3,4),c.Lb(6,"div",5,6),c.bc(8,"translate"),c.Pb(9,"div",7,8),c.Pb(11,"app-input",9,10),c.Wb("output",function(){return t.submit()}),c.Lb(13,"span",11),c.Ob(),c.Pb(14,"div",12),c.Wb("click",function(){return t.toggleCheckBox()}),c.Pb(15,"div",13),c.Pb(16,"div",14),c.Pb(17,"div",15),c.Ac(18,z,3,2,"span",16),c.Pb(19,"label",17),c.Pb(20,"input",18,19),c.Wb("keydown.enter",function(){return t.toggleCheckBox()})("change",function(){return t.checked=!t.checked}),c.Ob(),c.Lb(22,"span"),c.Ob(),c.Ob(),c.Ob(),c.Pb(23,"div",14),c.Pb(24,"span"),c.Lb(25,"span",20),c.Lb(26,"a",21),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(27,"div",22),c.Wb("click",function(){return t.submit(),t.enableHelp()})("keydown.enter",function(){return t.submit(),t.enableHelp()})("mouseleave",function(){return t.help=!1}),c.Ob(),c.Ob(),c.Lb(28,"div",23,24),c.Ob()),2&e&&(c.hc("bounce",!1)("progressBarEnabled",c.cc(1,21,t.progressBarEnabled$)),c.zb(4),c.hc("translate","messages.contactInformation"),c.zb(2),c.hc("innerHTML",c.cc(8,23,"messages.pleaseProvideEmail"),c.uc),c.zb(5),c.hc("formGroup",t.emailForm)("controlName","email")("label","email")("id","email"),c.zb(2),c.hc("translate","messages.pleaseEnterValidEmail"),c.zb(1),c.hc("@fadeNoTranslate",void 0),c.zb(4),c.hc("ngIf",t.help&&!t.checked),c.zb(2),c.Ab("tabindex",0),c.zb(5),c.hc("limit",125)("translate","messages.bitpayConsent"),c.zb(1),c.hc("translate","messages.viewPrivacyPolicy"),c.Ab("tabindex",-1),c.zb(1),c.Cb("solid-blue-button--disabled",!t.checked||!t.emailForm.valid),c.hc("@fade",void 0)("translate","messages.submit"),c.Ab("tabindex",0))},directives:[d.a,P,h.b,L.a,u.l,C.a],pipes:[u.b,h.e],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .card{transition:height .5s ease}.card-body[_ngcontent-%COMP%]{padding-bottom:20px}.checkbox-container[_ngcontent-%COMP%]{display:inline-block;padding:0 10px 0 20px}"],data:{animation:[a.y,a.h,a.g,a.v,a.l,a.j]},changeDetection:0}),e})()},{path:"verifyEmail",component:w},{path:"previouslyOpened",component:f}];let M=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[l.d.forChild(B)],l.d]}),e})(),I=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[u.c,M,i.a,h.d.forChild()]]}),e})()}}]);